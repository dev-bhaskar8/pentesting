!/usr/bin/python3
import subprocess
import re
import concurrent.futures


gateway = str(input('Enter the gateway : ')).rstrip('1')

iprange = [i for i in range(1,256)]

def sweep(ips):
    returncode = subprocess.run(['ping','-c 1',str(gateway)+str(ips)],capture_output=True).returncode
    if returncode == 0:
        return str(gateway)+str(ips)+' is open.'
    else:
        return 0

with concurrent.futures.ThreadPoolExecutor() as executor:
    results = executor.map(sweep,iprange)
    for result in results:
        if result != 0:
            print(result)
